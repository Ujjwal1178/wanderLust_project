<% layout('/layouts/boilerplate') %>

    <style>
        #filters{
            display: flex;
            /* justify-content: space-around; */
            overflow: scroll;
            align-items: center;
        }
        /* .filter p {
            font-size: 0rem;
        } */
        .filter a{
            text-decoration: none;
            color: black;
            opacity: 0.8;
        }
        #filters::-webkit-scrollbar{
            display: none;
        }
        .filter{
            margin: 0 2.5rem 0 0;
            opacity: 0.8;
        }
        

        .filter:hover{
            opacity: 1;
            cursor: pointer;
            text-decoration: underline;
        }
        .tax-info{
            display:none;
            /* border: 1px solid black; */
        }

        .tax-toggle{
            /* border: 1px solid black; */
            border-radius: 1rem;
            padding: 1rem;
            float: right;
        }
        
    </style>
    <!-- <h1 style="position: relative;">All <span class="spanStyling">Listings</span></h1> -->
    <div id="filters" class="mt-3 mb-3" >
            <div class="filter">
                <div><i class='bx bxs-hot bx-tada' ></i></div>
                <a href="/listings/listingcategory/Trending">Trending</a>
                
            </div>
        
        <div class="filter">
            <div><i class='bx bxs-bed bx-tada' ></i></div>
            <a href="/listings/listingcategory/Rooms">Rooms</a>
        </div>
        <div class="filter">
            <div><i class='bx bxs-buildings bx-tada' ></i></i></div>
            <a href="/listings/listingcategory/Iconic_Cities">Iconic Cities</a>
         </div>
        <div class="filter">
            <div><i class='bx bxs-home-heart bx-tada' ></i></div>
            <a href="/listings/listingcategory/Mountains">Mountains</a>
        </div>
        <div class="filter">
            <div><i class='bx bxs-castle bx-tada' ></i></i></div>
            <a href="/listings/listingcategory/Castle">Castle</a>
        </div>
        <div class="filter">
            <div><i class='bx bx-swim bx-tada' ></i></div>
            <a href="/listings/listingcategory/Amazing_Pools">Amazing Pools</a>
        </div>
        <div class="filter">
            <div><i class='bx bxs-tree-alt bx-tada' ></i></div>
            <a href="/listings/listingcategory/Camping">Camping</a>
        </div>
        <div class="filter">
            <div><i class='bx bxs-leaf bx-tada' ></i></div>
            <a href="/listings/listingcategory/Farms">Farms</a>
        </div>
        <div class="filter">
            <div><i class='bx bx-cloud-snow bx-tada' ></i></div>
            <a href="/listings/listingcategory/Arctic">Arctic</a>
        </div>

        <div class="tax-toggle">
            <div class="form-check-reverse form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" >
                <label class="form-check-label" for="flexSwitchCheckDefault">Taxes?</label>
              </div>
        </div>
    </div>
    <div class="row">
        <% for(let listing of allListings) {%>
            <div class="card  cols" >
                <img src="<%= listing.image.url  %>" class="card-img-top card-img-bottom" alt="Listing_image" style="height: 20rem;">
                <div class="card-body">
                  <h5 class="card-title"><%= listing.title  %></h5>
                  <!-- <p class="card-text"> <%= listing.description %> </p> -->
                  <p class="card-text">&#8377 <%=listing.price%> /night 
                    <b><i  id="tax" class="tax-info">+ 18% GST</i></b>
                    </p>
                  <a href="/listings/<%= listing._id  %>" class="btn btn-danger">Show Listing</a>
                </div>
            </div>
            <% } %>
    </div>
    <script>
        let taxSwitch = document.getElementById('flexSwitchCheckDefault');
        
            taxSwitch.addEventListener('click',()=>{
                console.log('clicked');
            let taxinfo = document.getElementsByClassName('tax-info');
            for(info of taxinfo){
                if(info.style.display != "inline"){
                info.style.display = "inline";
                }else{
                    info.style.display = "none";
                }
            }
        });
    
    
       
    </script>





